{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Searchbar/Searchbar.jsx","services/img-api.js","Button/Button.jsx","Loader/Loader.jsx","Modal/Modal.jsx","App.js","index.js","Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","hits","onClickModal","map","id","webformatURL","largeImageURL","tags","className","style","src","alt","ImageGalleryItem_image","onClick","srcSet","ImageGallery","Searchbar","state","query","handleChange","e","setState","currentTarget","value","hendleSubmit","preventDefault","props","onSubmit","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","response","data","catch","console","log","Button","loadMore","LoadMore","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","hendleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","largeImage","App","isLoading","error","showModal","onChangeQuery","toggleModal","setLargeImg","srcset","fetchImg","options","imgApi","prevState","finally","prevProps","snapshot","scrollTo","top","behavior","shouldRenderLoadMoreBtn","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7bea75ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1h6y6\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1eXbA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__bJneD\",\"Modal\":\"Modal_Modal__1agFC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3PDtf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1zpwk\"};","import style from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({hits, onClickModal}) =>\r\nhits.map(({id, webformatURL, largeImageURL, tags}) => (\r\n    <li key = {id} className ={style.ImageGalleryItem}>\r\n    <img \r\n    src={webformatURL} \r\n    alt={tags}\r\n    className = {style.ImageGalleryItem_image}\r\n    onClick ={onClickModal}\r\n    srcSet = {largeImageURL}\r\n    />\r\n</li>\r\n));\r\n\r\nexport default ImageGalleryItem;","// import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport style from './ImageGallery.module.css';\r\n\r\n\r\nconst ImageGallery = ({hits, onClickModal}) => (\r\n    <ul className={style.ImageGallery}>\r\n        <ImageGalleryItem hits ={hits} onClickModal = {onClickModal}/>\r\n    </ul>\r\n);\r\n\r\n// // ImageGallery.propTypes = {\r\n// //     hits: PropTypes.object.isRequired,\r\n//   };\r\n\r\nexport default ImageGallery;","import React, {Component} from 'react';\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state ={\r\n        query: ''\r\n    };\r\n\r\n\r\nhandleChange =e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n}  \r\n\r\nhendleSubmit =e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: ''})\r\n};\r\n\r\n\r\n\r\nrender() {\r\n    return (\r\n        <header className={style.Searchbar}>\r\n        <form onSubmit={this.hendleSubmit}  className={style.SearchForm}>\r\n            <button type=\"submit\" className={style.SearchForm_button}>\r\n            <span className={style.SearchForm_button_label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n            className={style.SearchForm_input}\r\n            type=\"text\"\r\n            onChange = {this.handleChange}\r\n            value ={this.state.query}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            />\r\n        </form>\r\n        </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;","// import propTypes from \"prop-types\";\r\n\r\nimport axios from 'axios';\r\n\r\nconst key = \"20422973-b315f24465f3cd4058b26d580\";\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\n\r\nconst fetchImg = ({searchQuery='', currentPage=1, perPage = 12}) =>{\r\n    return axios\r\n    .get(`https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&key=${key}&per_page=${perPage}`\r\n    )\r\n    .then((response) => response.data)\r\n    .catch(console.log);\r\n};\r\n\r\n// eslint-disable-next-line\r\nexport default  {fetchImg} ;\r\n","import style from './Button.module.css';\r\n\r\nconst Button = ({loadMore}) => (\r\n    <button type=\"button\" className = {style.Button} onClick ={loadMore}>\r\n          Load more\r\n        </button>\r\n);\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoadMore =() => (\r\n        <div className=\"center\">\r\n          <Loader\r\n            type=\"Oval\"\r\n            color=\"#00BFFF\" \r\n            height={80} \r\n            width={80}\r\n          />\r\n        </div>\r\n);\r\n\r\nexport default LoadMore;","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport style from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component{\r\ncomponentDidMount(){\r\n    console.log('Modal componentDidMount')\r\n    window.addEventListener('keydown', this.handleKeyDown )\r\n}\r\n\r\ncomponentWillUnmount(){\r\n    console.log('Modal componentWillUnmount')\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n}\r\n\r\nhandleKeyDown = e =>{\r\n    if (e.code === \"Escape\" ){\r\n        this.props.onClose();\r\n    }\r\n}\r\n\r\nhendleBackdropClick = event=> {\r\nif (event.currentTarget === event.target){\r\n    this.props.onClose();\r\n }\r\n};\r\n\r\n\r\nrender(){\r\nreturn createPortal (\r\n    <div className={style.Overlay} onClick ={this.hendleBackdropClick}>\r\n        <div className={style.Modal}>{this.props.children}</div>\r\n            <img src={this.props.largeImage} alt={this.props.alt} />\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n }\r\n}\r\n","import { Component } from 'react';\nimport ImageGallery from './ImageGallery/';\nimport Searchbar from './Searchbar/';\nimport imgApi from './services/img-api';\nimport Button from './Button/';\nimport LoadMoreComponent from './Loader/Loader';\nimport Modal from './Modal/';\n\nclass App extends Component {\n  state ={\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImage: \"\",\n    alt: \"\",\n  };\n\n\ncomponentDidUpdate(prevProps, prevState, snapshot){\n  if (prevState.searchQuery !== this.state.searchQuery ){\n    this.fetchImg();\n  }\n  if (snapshot !== null){\n    window.scrollTo({\n      top: snapshot - 250,\n      behavior: 'smooth',\n    });\n  }\n}\n\nonChangeQuery = (query) => {\n  this.setState({\n    searchQuery: query, \n    currentPage: 1, \n    hits: [],\n    error: null, \n  }); \n};\n\ntoggleModal =() => {\n  this.setState(({showModal}) => ({showModal: !showModal }));\n};\n\nsetLargeImg = (event)=>{\n  this.setState({\n    largeImage : event.currentTarget.srcset,\n    alt: event.currentTarget.alt,\n  });\n  this.toggleModal();\n}\n\nfetchImg =() => {\n  const {currentPage,searchQuery} = this.state;\n  const options ={searchQuery,currentPage};\n\n  this.setState({isLoading: true});\n\n    imgApi\n    .fetchImg(options)\n    .then(({hits}) =>{\n      this.setState (prevState =>({\n        hits: [...prevState.hits, ...hits],\n        currentPage: prevState.currentPage + 1,\n      }));\n    })\n    .catch(error => this.setState({error}))\n    .finally(() => this.setState({isLoading: false}));\n};\n\n\n\n\nrender() {\n  const {hits, isLoading, error, showModal, largeImage, alt} = this.state;\n  const shouldRenderLoadMoreBtn = hits.length > 0 && !isLoading;\n\n  return(\n    <div>\n  {error && <h1>Oops, something went wrong, please reload the page again!</h1>}\n  <Searchbar onSubmit={this.onChangeQuery}/>\n  <ImageGallery hits ={hits} onClickModal ={this.setLargeImg} />\n\n    {showModal && (\n      <Modal onClose ={this.toggleModal} largeImage = {largeImage} alt ={alt}/>)}\n\n      {isLoading && <LoadMoreComponent />}\n\n      {shouldRenderLoadMoreBtn && <Button loadMore ={this.fetchImg}/>} \n      </div>\n      );\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2an6x\",\"SearchForm\":\"Searchbar_SearchForm__1XM8D\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2zMmi\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1eGvn\",\"SearchForm_input\":\"Searchbar_SearchForm_input__15j9-\"};"],"sourceRoot":""}